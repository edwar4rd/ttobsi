---
tags: 個研, graphic
---

# [進度]20220211 專題紀錄

## 欸不是開學了欸

說好的寒假做完的小專案呢，咳咳

## 物件導向與擴充性

物件導向是一種程式的**設計模式**，其中一個重要的想法是使用類別表達一個概念，
並使用函數來包裝底層的實作方式，減少後面使用物件時的負擔也降低出錯的可能性。
這個概念的一個延伸是用類別間的繼承與實作關係，表達一個廣泛概念可以被擴充或有多種實例。
這種功能也叫介面，也就是先定義好一套與其他程式互動的函式，程式的其他部份就可以直接調用這個介面的函式。
而再由各種實作這些介面的類別去決定要如何實作這些函式，但只要是一個完整的實作，皆可以被前述調用介面的其他部份使用到。

這被 `來源請求` 認為是 C++ 物件導向程式設計的一個重點，因為他帶來了使舊的程式碼呼叫新程式碼的能力。
他認為這個能力比起其他如運算子重載來說更為重要，因為他可以簡化更動與擴充程式碼的功能。
不論他的論點是否確切，我認為這個想法對我的程式設計與規劃確實有幫助，因為它讓我可以稍後在去思考各種形狀渲染的實作方法，
轉而先完善更加重要的部份，而後再來補齊、完善前面沒有設計好或有進步空間的部份。

## 較大型程式的編譯與連結

以前曾經被教學過，C/C++ 的編譯過程包含編譯跟連結幾個步驟，但那時候還不是很懂這些步驟確切的重要性，
也不知道可以怎麼運用這些知識。到現在需要組建較大型的程式時，我才瞭解這些步驟背後到底有什麼意義。

一個寫好的 C/C++ 程式通常是一個 .c/.cpp/.cxx 檔案，可能還有一些 .h 的標頭檔
要組成一個程式的第一個步驟是編譯：編譯器會先對原始碼進行預處理，進型插入標頭檔、展開巨集等，接下來就是編譯的動作了，
包含 token化、語意分析等各種步驟，最後會將程式轉成類似組合語言的東西，但是包含非常多的名稱來替代實際的位址或偏移量。
最後是連結，這邊是我本來最不理解的部份。連結的過程會把多個編譯好的檔案中的名稱替代成實際可以被電腦理解的偏移量，
才能將所有程式組成執行檔，但為什麼還有分解出一個連結的步驟呢？
原來前面所述的偏移量是一個較固定的東西，需要根據程式的各種實際大小來進行調整，
而編譯中的各種分析又是一個較花時間的過程，因此編譯完一個檔案之後若原始碼沒有更動就不用重新編譯，
而其他檔案若有更動重新編譯後，只要由連結的程式連結重新編譯的部份跟先前編譯好的即可。
另外一個狀況是部份函式庫只需要提供標頭檔跟 library 檔案，就可以編譯器就可以編譯，
在連結時直接連結 library 檔案中編譯好的部份即可，使用者就不用自己編譯了。

因此較大型的程式常會使用 make 和 makefile 來說明檔案間的更新關係，
只編譯需要重新編譯的部份，並儲存編譯好的結果為 .o 檔案，就可以降低更動少數檔案後重新組建的需要時間。
